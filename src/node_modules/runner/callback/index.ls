export class Callback
	(input) ~>
		spec = switch typeof! input
		| 'Function' => {fn: input}
		| 'Object' => input
		| _ => {}

		# ----------------------------------------------------------------------

		{fn} = spec
		if typeof! fn isnt 'Function' => fn = ->
		@ <<< {fn}

		# ----------------------------------------------------------------------

		{args} = spec
		args ?= []
		if typeof! args isnt 'Array' => args = [args]
		@ <<< {args}

		# ----------------------------------------------------------------------

		{thisArg} = spec
		if typeof! fn isnt 'Object' => thisArg = {}
		@ <<< {thisArg}



	run: -> @fn.apply @thisArg, @args
