require! {
	'../test'

	'../helpers'
}

{Test} = test
{addSeveral} = helpers



export class Section
	(input) ~>
		spec = switch typeof! input
		| 'String' => {name: input}
		| 'Object' => input
		| _ => {}

		# ----------------------------------------------------------------------

		{name} = spec
		name ?= ''
		@ <<< {name}

		# ----------------------------------------------------------------------

		{enabled} = spec
		enabled ?= no
		@ <<< {enabled}


		# ----------------------------------------------------------------------

		@_tests = []

		{tests} = spec
		if tests? => @add tests

	add: (tests) -> addSeveral Test, tests, @_tests

	run: (logger) ->
		logger.sep @name
		logger.on @enabled

		for test in @_tests => test.run logger
