require! {
	logger

	'../section'

	'../helpers'
}

{Logger} = logger

{Section} = section

{addSeveral} = helpers



export class Unit
	(input) ~>
		spec = input ? {}

		# ----------------------------------------------------------------------

		{logger} = spec
		logger ?= new Logger!
		@ <<< {logger}

		# ----------------------------------------------------------------------

		@_sections = []

		{sections} = spec
		if sections? => @add sections

	add: (sections) -> addSeveral Section, sections, @_sections

	run: -> for section in @_sections => section.run @logger
